Now we understand our environment, what is in it, how we are expected to respond to it and how we historically have responded to it, we can iterate upon the ODM to a more interactive degree. Instead of describing the environment, we simulate the environment and incidents whch can occur within them.

Previously, our ODM represented the physical and logical topology of the line, represented in the below image:

<img src="/Images/jctnoverview.png"
     alt="Figure 1"
     style="width:800px;max-width:100%;height:auto;border-radius:8px;" />

Now, we represent the operational logic of the system as a series of states which represent how the train interacts with the ecosystem. A train, in any given situation, can do one of three things, continue as is, slow down or speed up. However, as we understand, the ecosystem has priority over the cab. Our investigation of [G](ref:g) revealed that on our specific line, drivers are expected to react to an AWS alert immediately, with the AWS alert taking priority over everything, so, in our ODM we need to represent AWS as a seperate entity.

This results in a basic state diagram below:

<img src="/Images/TrainSMSimple.png"
     alt="Figure 2"
     style="width:800px;max-width:100%;height:auto;border-radius:8px;" />

However, when considering the hazards identified previously, our reactions to hazards do not fit within this state machine. So now, we expand our state machine to fit the possible outcomes required by the ego-vehicle and we also create a relationship diagram between our states, to determine what could cause us to enter a given state, we call these ['milestones'](/#/steps/4-metrics/examples/4-e).

TODO: Actually do this.